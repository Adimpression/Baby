 # Set tomcat compression

    <Connector port="8080" protocol="HTTP/1.1"
               connectionTimeout="20000"
               redirectPort="8443"
               compression="on"
			   compressionMinSize="1024"
               compressableMimeType="text/html,text/javascript,text/css,text/xhtml"/>

# Set tomcat character encoding

    <Connector port="8080" maxHttpHeaderSize="8192"
     maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
     enableLookups="false" redirectPort="8443" acceptCount="100"
     connectionTimeout="20000" disableUploadTimeout="true"
     compression="on"
     compressionMinSize="128"
     noCompressionUserAgents="gozilla, traviata" 
     compressableMimeType="text/html,text/xml,text/plain,text/css,text/ javascript,application/x-javascript,application/javascript"
     URIEncoding="UTF-8"
    />


 # Compare local(non cdn) and Header Expires Filter in WEB.XML


 # Add cloudfiles.properties and log4j.properties to tomcat lib

 # adjust properties file prop file paths

 # check whether globalconfig should be put in tomcat lib

 # disable disqus developer mood

 # check if ilp role is defined in tomcat users

<?xml version='1.0' encoding='utf-8'?>
<tomcat-users>
  <role rolename="ilp"/>
  <user username="ilikeplaces_admin" password="sumo_is_a_780_game" roles="ilp"/>
</tomcat-users>


 <!-- Define a Security Constraint on this Application -->
  <security-constraint>
    <web-resource-collection>
      <web-resource-name>OpenEJB Application</web-resource-name>
      <url-pattern>/*</url-pattern>
    </web-resource-collection>
    <auth-constraint>
      <role-name>ilp</role-name>
    </auth-constraint>
  </security-constraint>

  <!-- Define the Login Configuration for this Application -->
  <login-config>
    <auth-method>BASIC</auth-method>
    <realm-name>Application</realm-name>
  </login-config>

  <!-- Security roles referenced by this web application -->
  <security-role>
    <description>
      The role that is required to log in to the OpenEJB Application
    </description>
    <role-name>ilp</role-name>
  </security-role>
</web-app>



 # upload sources

 # importing geo data to derby. Tab character, should be copied off something like notepad and pasted   

 To import data from a file to a table, use the SYSCS_UTIL.SYSCS_IMPORT_TABLE procedure. The procedure definition is:
SYSCS_UTIL.SYSCS_IMPORT_TABLE (IN schemaName VARCHAR(128),
IN tableName VARCHAR(128), IN fileName VARCHAR(32672),
IN columnDelimiter CHAR(1), IN characterDelimiter  CHAR(1),
IN codeset VARCHAR(128), IN replace SMALLINT)

No Result is returned from the procedure.
To import data from a file to a subset of columns in a table, use the SYSCS_UTIL.SYSCS_IMPORT_DATA procedure.
To import data to subset of columns in a table, you specify insertColumns on the table into which data will be imported and/or specify columnIndexes to import data fields from a file to columns in a table.
The procedure definition is:
SYSCS_UTIL.SYSCS_IMPORT_DATA (IN schemaName VARCHAR(128),
IN tableName VARCHAR(128), IN insertColumns VARCHAR(32672),
IN columnIndexes VARCHAR(32672), IN fileName VARCHAR(32672),
IN columnDelimiter CHAR(1), IN characterDelimiter  CHAR(1),
IN codeset VARCHAR(128), IN replace SMALLINT)


CALL SYSCS_UTIL.SYSCS_IMPORT_DATA ('ILPIMP','LOCATION','LOCATIONID,LOCATIONNAME,LOCATIONSUPERSET_LOCATIONID','1,3,6', '/root/downloads/ygd/7.5.2/geoplanet_places_7.5.2.tsv', '	','"','UTF-8', 1)

1. Create a sample database

2. Create Tables for Import(Use intellij DBHelper)
CREATE TABLE  ILPIMP.LOCATION (
LOCATIONID BIGINT,
CLEARANCE BIGINT,
LOCATIONGEO1 VARCHAR(63),
LOCATIONGEO2 VARCHAR(63),
LOCATIONINFO VARCHAR(1000),
LOCATIONNAME VARCHAR(255),
LOCATIONSUPERSET_LOCATIONID BIGINT
, PRIMARY KEY (LOCATIONID)
);

2. Do a sample import and verity import works with the TSV

1. Backup existing database
CALL SYSCS_UTIL.SYSCS_FREEZE_DATABASE(); 
Backup ilp directory
CALL SYSCS_UTIL.SYSCS_UNFREEZE_DATABASE();

2. Make sure all server edits on files(Main.xhml) is updated on local.
 Best, commit to cvs and then paste the contents of the server to the local file and check changes.


2. Upload war file

3. Compare and copy config.properties as GlobalConfig.properties

2. Remove existing database
3. Startup new app so that the tables are generated
4. Stop new app

5. Import data
CALL SYSCS_UTIL.SYSCS_IMPORT_DATA ('ILPIMP','LOCATION','LOCATIONID,LOCATIONNAME,LOCATIONSUPERSET_LOCATIONID','1,3,6', '/root/downloads/ygd/7.5.2/geoplanet_places_7.5.2.tsv', '	','"','UTF-8', 1)
DO NOT FORGET TO CHANGE SUPERLOCATION ID OF EARTH TO 1(SAME AS ITS OWN).

use UPDADE:
UPDATE table_name
SET column1=value, column2=value2,...
WHERE some_column=some_value

6. Start new app


CALL SYSCS_UTIL.SYSCS_IMPORT_DATA ('ILP','LOCATION','LOCATIONID,LOCATIONNAME,LOCATIONINFO,LOCATIONSUPERSET_LOCATIONID','1,3,3,6', '/root/downloads/ygd/7.5.2/geoplanet_places_7.5.2.tsv', '	','"','UTF-8', 1)









User backup


ravindranathakila@gmail.com                                                                                                     |0                   |1
lakshitha_atapattu@yahoo.com                                                                                                    |0                   |1
akila@adimpression.mobi                                                                                                         |0                   |1
abc@yahoo.com                                                                                                                   |0                   |1
lakshitha@intervest.gi                                                                                                          |0                   |1
mahesh.hewawasam@gmail.com                                                                                                      |0                   |1
muh@muh.de                                                                                                                      |0                   |1
sankihtha@gmail.com                                                                                                             |0                   |1
201008011@ilikeplaces.com                                                                                                       |0                   |1
sltorrent@gmail.com                                                                                                             |0                   |1
201008161@ilikeplaces.com                                                                                                       |0                   |1
goldgrail@163.com





if exists( select 1 from sys.systable  where table_name='LOCATION' and table_type in ('BASE', 'GBL TEMP') ) then
    drop table "LOCATION"
end if;


CREATE TABLE  ILPIMP.LOCATION (
LOCATIONID BIGINT,
CLEARANCE BIGINT,
LOCATIONGEO1 VARCHAR(63),
LOCATIONGEO2 VARCHAR(63),
LOCATIONINFO VARCHAR(1000),
LOCATIONNAME VARCHAR(255),
LOCATIONSUPERSET_LOCATIONID BIGINT
, PRIMARY KEY (LOCATIONID)
);







APPLICATION WILL NOT STARTUP

WEB.XML problems with servlets
persistence.xml file syntax errors